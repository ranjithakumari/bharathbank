{"ast":null,"code":"import _asyncToGenerator from\"E:\\\\Ranji\\\\bharathbank\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"E:\\\\Ranji\\\\bharathbank\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"E:\\\\Ranji\\\\bharathbank\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from\"react\";import Card from\"./context\";import firebase from'firebase/compat/app';import'firebase/compat/auth';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var apiURL=\"http://localhost:8080\";var firebaseConfig={apiKey:\"AIzaSyDC4nUrWNSR843JlF1rpNFHnPTj_Ya6kQw\",authDomain:\"capstone-bank.firebaseapp.com\",projectId:\"capstone-bank\",storageBucket:\"capstone-bank.appspot.com\",messagingSenderId:\"107634080259\",appId:\"1:107634080259:web:a7554f3db39a4a5351ec36\",measurementId:\"G-6G40XFKW41\"};firebase.initializeApp(firebaseConfig);export default function CreateAccount(){var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,2),show=_React$useState2[0],setShow=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),status=_React$useState4[0],setStatus=_React$useState4[1];return/*#__PURE__*/_jsx(Card,{bgcolor:\"primary\",header:\"Create Account\",status:status,body:show?/*#__PURE__*/_jsx(CreateForm,{setShow:setShow,setStatus:setStatus}):/*#__PURE__*/_jsx(CreateMsg,{setShow:setShow,setStatus:setStatus})});}function CreateMsg(props){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Your Account has been created Successfully\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-light\",onClick:function onClick(){return props.setShow(true);},children:\"Add another account\"})]});}function CreateForm(props){var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),name=_React$useState6[0],setName=_React$useState6[1];var _React$useState7=React.useState(''),_React$useState8=_slicedToArray(_React$useState7,2),email=_React$useState8[0],setEmail=_React$useState8[1];var _React$useState9=React.useState(''),_React$useState10=_slicedToArray(_React$useState9,2),password=_React$useState10[0],setPassword=_React$useState10[1];function handle(){var auth=firebase.auth();var promise=auth.createUserWithEmailAndPassword(email,password);promise.catch(function(e){return console.log(e.message);});var re=/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;if(!re.test(email)){alert(\"Enter a Valid Email Address\");}else if(password.length<8){alert(\"Password should contain minimum of 8 characters\");}else{var role='guest';var url=apiURL+\"/account/create/\".concat(name,\"/\").concat(email,\"/\").concat(password,\"/\").concat(role);_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(url);case 2:res=_context.sent;_context.next=5;return res.json();case 5:data=_context.sent;localStorage.setItem('Name',data.name);localStorage.setItem('Email',data.email);localStorage.setItem('Role',data.role);props.setShow(false);props.setStatus('');case 11:case\"end\":return _context.stop();}}},_callee);}))();props.setStatus('User already exists');}}return/*#__PURE__*/_jsxs(_Fragment,{children:[\"Name\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"input\",className:\"form-control\",placeholder:\"Enter name\",value:name,onChange:function onChange(e){return setName(e.currentTarget.value);}}),/*#__PURE__*/_jsx(\"br\",{}),\"Email address\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",placeholder:\"Enter email\",value:email,onChange:function onChange(e){return setEmail(e.currentTarget.value);}}),/*#__PURE__*/_jsx(\"br\",{}),\"Password\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",placeholder:\"Enter password\",value:password,onChange:function onChange(e){return setPassword(e.currentTarget.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",id:\"signup\",className:\"btn btn-light\",disabled:!name||!email||!password,onClick:handle,children:\"Create Account\"})]});}","map":{"version":3,"sources":["E:/Ranji/bharathbank/client/src/components/createaccount.js"],"names":["React","useState","Card","firebase","apiURL","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","CreateAccount","show","setShow","status","setStatus","CreateMsg","props","CreateForm","name","setName","email","setEmail","password","setPassword","handle","auth","promise","createUserWithEmailAndPassword","catch","e","console","log","message","re","test","alert","length","role","url","fetch","res","json","data","localStorage","setItem","currentTarget","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport Card from \"./context\";\r\nimport firebase from 'firebase/compat/app';\r\nimport 'firebase/compat/auth';\r\n\r\nconst apiURL = `http://localhost:8080`;\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDC4nUrWNSR843JlF1rpNFHnPTj_Ya6kQw\",\r\n  authDomain: \"capstone-bank.firebaseapp.com\",\r\n  projectId: \"capstone-bank\",\r\n  storageBucket: \"capstone-bank.appspot.com\",\r\n  messagingSenderId: \"107634080259\",\r\n  appId: \"1:107634080259:web:a7554f3db39a4a5351ec36\",\r\n  measurementId: \"G-6G40XFKW41\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport default function CreateAccount(){\r\n  const [show, setShow]     = React.useState(true);\r\n  const [status, setStatus] = React.useState('');\r\n\r\n  return (\r\n    <Card\r\n      bgcolor=\"primary\"\r\n      header=\"Create Account\"\r\n      status={status}\r\n      body={show ? \r\n        <CreateForm setShow={setShow} setStatus={setStatus}/> : \r\n        <CreateMsg setShow={setShow} setStatus={setStatus}/>}\r\n    />\r\n  )\r\n}\r\nfunction CreateMsg(props){\r\n  return(<>\r\n    <h5>Your Account has been created Successfully</h5>\r\n    <button type=\"submit\" \r\n      className=\"btn btn-light\" \r\n      onClick={() => props.setShow(true)}>Add another account</button>\r\n  </>);\r\n}\r\n\r\nfunction CreateForm(props){\r\n  const [name, setName]         = React.useState('');\r\n  const [email, setEmail]       = React.useState('');\r\n  const [password, setPassword] = React.useState('');  \r\n\r\n  function handle(){\r\n    \r\n    const auth  = firebase.auth();\r\n  \r\n    const promise = auth.createUserWithEmailAndPassword(email,password);\r\n    promise.catch(e => console.log(e.message));\r\n     \r\n    let re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    if (!re.test(email) ) {\r\n      alert(\"Enter a Valid Email Address\");\r\n    }\r\n    else if (password.length < 8){\r\n      alert(\"Password should contain minimum of 8 characters\");\r\n    }\r\n    else {\r\n      const role = 'guest';\r\n      const url = apiURL+ `/account/create/${name}/${email}/${password}/${role}`;\r\n      (async () => {\r\n        var res  = await fetch(url);        \r\n        var data = await res.json();         \r\n        localStorage.setItem('Name',data.name);\r\n        localStorage.setItem('Email',data.email);  \r\n        localStorage.setItem('Role',data.role);\r\n        props.setShow(false);\r\n        props.setStatus('');\r\n      })();\r\n      \r\n      props.setStatus('User already exists');    \r\n    }  \r\n  }   \r\n  return (<>\r\n\r\n    Name<br/>\r\n    <input type=\"input\" \r\n      className=\"form-control\" \r\n      placeholder=\"Enter name\" \r\n      value={name} \r\n      onChange={e => setName(e.currentTarget.value)} /><br/>\r\n\r\n    Email address<br/>\r\n    <input type=\"email\" \r\n      className=\"form-control\" \r\n      placeholder=\"Enter email\" \r\n      value={email} \r\n      \r\n      onChange={e => setEmail(e.currentTarget.value)}/><br/>\r\n\r\n    Password<br/>\r\n    <input type=\"password\" \r\n      className=\"form-control\" \r\n      placeholder=\"Enter password\" \r\n      value={password} \r\n      onChange={e => setPassword(e.currentTarget.value)}/><br/>\r\n\r\n    <button type=\"submit\" id=\"signup\"\r\n      className=\"btn btn-light\" \r\n      disabled={!name || !email || !password}\r\n      onClick={handle}>Create Account</button>\r\n  </>);\r\n}"]},"metadata":{},"sourceType":"module"}
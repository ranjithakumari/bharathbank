{"ast":null,"code":"var _jsxFileName = \"E:\\\\Ranji\\\\bharathbank\\\\client\\\\src\\\\components\\\\createaccount.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport Card from \"./context\";\nimport firebase from 'firebase/compat/app';\nimport 'firebase/compat/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst apiURL = `http://localhost:8080`;\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDC4nUrWNSR843JlF1rpNFHnPTj_Ya6kQw\",\n  authDomain: \"capstone-bank.firebaseapp.com\",\n  projectId: \"capstone-bank\",\n  storageBucket: \"capstone-bank.appspot.com\",\n  messagingSenderId: \"107634080259\",\n  appId: \"1:107634080259:web:a7554f3db39a4a5351ec36\",\n  measurementId: \"G-6G40XFKW41\"\n};\nfirebase.initializeApp(firebaseConfig);\nexport default function CreateAccount() {\n  _s();\n\n  const [show, setShow] = React.useState(true);\n  const [status, setStatus] = React.useState('');\n  return /*#__PURE__*/_jsxDEV(Card, {\n    bgcolor: \"primary\",\n    header: \"Create Account\",\n    status: status,\n    body: show ? /*#__PURE__*/_jsxDEV(CreateForm, {\n      setShow: setShow,\n      setStatus: setStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(CreateMsg, {\n      setShow: setShow,\n      setStatus: setStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CreateAccount, \"OiPWjF7aAG19YEx9YzF5ZeGKqU4=\");\n\n_c = CreateAccount;\n\nfunction CreateMsg(props) {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"Your Account has been created Successfully\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-light\",\n      onClick: () => props.setShow(true),\n      children: \"Add another account\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n\n_c2 = CreateMsg;\n\nfunction CreateForm(props) {\n  _s2();\n\n  const [name, setName] = React.useState('');\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  function handle() {\n    const auth = firebase.auth();\n    const promise = auth.createUserWithEmailAndPassword(email, password);\n    promise.catch(e => console.log(e.message));\n    let re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n    if (!re.test(email)) {\n      alert(\"Enter a Valid Email Address\");\n    } else if (password.length < 8) {\n      alert(\"Password should contain minimum of 8 characters\");\n    } else {\n      const role = 'guest';\n      const url = apiURL + `/account/create/${name}/${email}/${password}/${role}`;\n\n      (async () => {\n        var res = await fetch(url);\n        var data = await res.json();\n        localStorage.setItem('Name', data.name);\n        localStorage.setItem('Email', data.email);\n        localStorage.setItem('Role', data.role);\n        props.setShow(false);\n        props.setStatus('');\n      })();\n\n      props.setStatus('User already exists');\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [\"Name\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"input\",\n      className: \"form-control\",\n      placeholder: \"Enter name\",\n      value: name,\n      onChange: e => setName(e.currentTarget.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 56\n    }, this), \"Email address\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 18\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"email\",\n      className: \"form-control\",\n      placeholder: \"Enter email\",\n      value: email,\n      onChange: e => setEmail(e.currentTarget.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 56\n    }, this), \"Password\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      placeholder: \"Enter password\",\n      value: password,\n      onChange: e => setPassword(e.currentTarget.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 59\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      id: \"signup\",\n      className: \"btn btn-light\",\n      disabled: !name || !email || !password,\n      onClick: handle,\n      children: \"Create Account\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n\n_s2(CreateForm, \"y7AVIb+2dT29WONRxO7d74XBSmc=\");\n\n_c3 = CreateForm;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"CreateAccount\");\n$RefreshReg$(_c2, \"CreateMsg\");\n$RefreshReg$(_c3, \"CreateForm\");","map":{"version":3,"sources":["E:/Ranji/bharathbank/client/src/components/createaccount.js"],"names":["React","useState","Card","firebase","apiURL","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","CreateAccount","show","setShow","status","setStatus","CreateMsg","props","CreateForm","name","setName","email","setEmail","password","setPassword","handle","auth","promise","createUserWithEmailAndPassword","catch","e","console","log","message","re","test","alert","length","role","url","res","fetch","data","json","localStorage","setItem","currentTarget","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport Card from \"./context\";\r\nimport firebase from 'firebase/compat/app';\r\nimport 'firebase/compat/auth';\r\n\r\nconst apiURL = `http://localhost:8080`;\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDC4nUrWNSR843JlF1rpNFHnPTj_Ya6kQw\",\r\n  authDomain: \"capstone-bank.firebaseapp.com\",\r\n  projectId: \"capstone-bank\",\r\n  storageBucket: \"capstone-bank.appspot.com\",\r\n  messagingSenderId: \"107634080259\",\r\n  appId: \"1:107634080259:web:a7554f3db39a4a5351ec36\",\r\n  measurementId: \"G-6G40XFKW41\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport default function CreateAccount(){\r\n  const [show, setShow]     = React.useState(true);\r\n  const [status, setStatus] = React.useState('');\r\n\r\n  return (\r\n    <Card\r\n      bgcolor=\"primary\"\r\n      header=\"Create Account\"\r\n      status={status}\r\n      body={show ? \r\n        <CreateForm setShow={setShow} setStatus={setStatus}/> : \r\n        <CreateMsg setShow={setShow} setStatus={setStatus}/>}\r\n    />\r\n  )\r\n}\r\nfunction CreateMsg(props){\r\n  return(<>\r\n    <h5>Your Account has been created Successfully</h5>\r\n    <button type=\"submit\" \r\n      className=\"btn btn-light\" \r\n      onClick={() => props.setShow(true)}>Add another account</button>\r\n  </>);\r\n}\r\n\r\nfunction CreateForm(props){\r\n  const [name, setName]         = React.useState('');\r\n  const [email, setEmail]       = React.useState('');\r\n  const [password, setPassword] = React.useState('');  \r\n\r\n  function handle(){\r\n    \r\n    const auth  = firebase.auth();\r\n  \r\n    const promise = auth.createUserWithEmailAndPassword(email,password);\r\n    promise.catch(e => console.log(e.message));\r\n     \r\n    let re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    if (!re.test(email) ) {\r\n      alert(\"Enter a Valid Email Address\");\r\n    }\r\n    else if (password.length < 8){\r\n      alert(\"Password should contain minimum of 8 characters\");\r\n    }\r\n    else {\r\n      const role = 'guest';\r\n      const url = apiURL+ `/account/create/${name}/${email}/${password}/${role}`;\r\n      (async () => {\r\n        var res  = await fetch(url);        \r\n        var data = await res.json();         \r\n        localStorage.setItem('Name',data.name);\r\n        localStorage.setItem('Email',data.email);  \r\n        localStorage.setItem('Role',data.role);\r\n        props.setShow(false);\r\n        props.setStatus('');\r\n      })();\r\n      \r\n      props.setStatus('User already exists');    \r\n    }  \r\n  }   \r\n  return (<>\r\n\r\n    Name<br/>\r\n    <input type=\"input\" \r\n      className=\"form-control\" \r\n      placeholder=\"Enter name\" \r\n      value={name} \r\n      onChange={e => setName(e.currentTarget.value)} /><br/>\r\n\r\n    Email address<br/>\r\n    <input type=\"email\" \r\n      className=\"form-control\" \r\n      placeholder=\"Enter email\" \r\n      value={email} \r\n      \r\n      onChange={e => setEmail(e.currentTarget.value)}/><br/>\r\n\r\n    Password<br/>\r\n    <input type=\"password\" \r\n      className=\"form-control\" \r\n      placeholder=\"Enter password\" \r\n      value={password} \r\n      onChange={e => setPassword(e.currentTarget.value)}/><br/>\r\n\r\n    <button type=\"submit\" id=\"signup\"\r\n      className=\"btn btn-light\" \r\n      disabled={!name || !email || !password}\r\n      onClick={handle}>Create Account</button>\r\n  </>);\r\n}"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _slicedToArray from\"E:\\\\Ranji\\\\bharathbank\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AllData(){var email=localStorage.getItem(\"Email\");var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),data=_React$useState2[0],setData=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),balance=_React$useState4[0],setBalance=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),name=_React$useState6[0],setName=_React$useState6[1];React.useEffect(function(){// fetch all accounts from API\nfetch('http://localhost:8080/account/all').then(function(response){return response.text();}).then(function(text){var data=JSON.parse(text);data.forEach(function(item){if(item['email']==email&&item['role']=='guest'){setBalance(JSON.stringify(item.balance));setName(JSON.stringify(item.name));}else if(item['email']==email&&item['role']=='Admin'){setData(JSON.stringify(data));}});});},[]);if(data){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Details\"}),/*#__PURE__*/_jsx(\"h6\",{children:data})]});}else{return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Details\"}),/*#__PURE__*/_jsxs(\"table\",{rules:\"all\",width:\"600\",border:\"2\",children:[/*#__PURE__*/_jsx(\"thead\",{style:{\"borderWidth\":\"2px\",'borderColor':\"black\",'borderStyle':'solid'},children:/*#__PURE__*/_jsxs(\"tr\",{align:\"center\",children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Balance\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{align:\"center\",children:[/*#__PURE__*/_jsx(\"td\",{children:name}),/*#__PURE__*/_jsx(\"td\",{children:email}),/*#__PURE__*/_jsx(\"td\",{children:balance})]})})]})]});}}","map":{"version":3,"sources":["E:/Ranji/bharathbank/client/src/components/alldata.js"],"names":["React","AllData","email","localStorage","getItem","useState","data","setData","balance","setBalance","name","setName","useEffect","fetch","then","response","text","JSON","parse","forEach","item","stringify"],"mappings":"0HAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,6IACA,cAAe,SAASC,CAAAA,OAAT,EAAkB,CAE7B,GAAMC,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CAEA,oBAAwBJ,KAAK,CAACK,QAAN,CAAe,EAAf,CAAxB,oDAAOC,IAAP,qBAAaC,OAAb,qBACA,qBAA8BP,KAAK,CAACK,QAAN,CAAe,EAAf,CAA9B,qDAAOG,OAAP,qBAAgBC,UAAhB,qBACA,qBAAwBT,KAAK,CAACK,QAAN,CAAe,EAAf,CAAxB,qDAAOK,IAAP,qBAAaC,OAAb,qBAEIX,KAAK,CAACY,SAAN,CAAgB,UAAM,CAClB;AACAC,KAAK,CAAC,mCAAD,CAAL,CACKC,IADL,CACU,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADlB,EAEKF,IAFL,CAEU,SAAAE,IAAI,CAAI,CACV,GAAMV,CAAAA,IAAI,CAAGW,IAAI,CAACC,KAAL,CAAWF,IAAX,CAAb,CACIV,IAAI,CAACa,OAAL,CAAa,SAAAC,IAAI,CAAI,CACjB,GAAIA,IAAI,CAAC,OAAD,CAAJ,EAAiBlB,KAAjB,EAA0BkB,IAAI,CAAC,MAAD,CAAJ,EAAgB,OAA9C,CAAsD,CAClDX,UAAU,CAACQ,IAAI,CAACI,SAAL,CAAeD,IAAI,CAACZ,OAApB,CAAD,CAAV,CACAG,OAAO,CAACM,IAAI,CAACI,SAAL,CAAeD,IAAI,CAACV,IAApB,CAAD,CAAP,CACH,CAHD,IAIK,IAAGU,IAAI,CAAC,OAAD,CAAJ,EAAiBlB,KAAjB,EAA0BkB,IAAI,CAAC,MAAD,CAAJ,EAAgB,OAA7C,CAAqD,CACtDb,OAAO,CAACU,IAAI,CAACI,SAAL,CAAef,IAAf,CAAD,CAAP,CACH,CACJ,CARD,EAUP,CAdL,EAeH,CAjBD,CAiBG,EAjBH,EAmBA,GAAGA,IAAH,CAAQ,CACJ,mBAAQ,wCACJ,+BADI,cAEJ,oBAAKA,IAAL,EAFI,GAAR,CAIH,CALD,IAMI,CACA,mBAAQ,wCACJ,+BADI,cAEJ,eAAO,KAAK,CAAC,KAAb,CAAmB,KAAK,CAAC,KAAzB,CAA+B,MAAM,CAAC,GAAtC,wBACI,cAAO,KAAK,CAAE,CAAC,cAAc,KAAf,CAAsB,cAAc,OAApC,CAA6C,cAAc,OAA3D,CAAd,uBACI,YAAI,KAAK,CAAC,QAAV,wBACI,4BADJ,cAEI,6BAFJ,cAGI,+BAHJ,GADJ,EADJ,cAQI,oCACI,YAAI,KAAK,CAAC,QAAV,wBACI,oBAAKI,IAAL,EADJ,cAEI,oBAAKR,KAAL,EAFJ,cAGI,oBAAKM,OAAL,EAHJ,GADJ,EARJ,GAFI,GAAR,CAmBH,CAGJ","sourcesContent":["import React from \"react\";\r\nexport default function AllData(){    \r\n\r\n    const email = localStorage.getItem(\"Email\");\r\n     \r\n    const [data, setData] = React.useState(''); \r\n    const [balance, setBalance] = React.useState('');\r\n    const [name, setName] = React.useState('');\r\n\r\n        React.useEffect(() => {          \r\n            // fetch all accounts from API\r\n            fetch('http://localhost:8080/account/all')\r\n                .then(response => response.text())\r\n                .then(text => { \r\n                    const data = JSON.parse(text);                        \r\n                        data.forEach(item => {                            \r\n                            if (item['email'] == email && item['role'] == 'guest'){                                   \r\n                                setBalance(JSON.stringify(item.balance));   \r\n                                setName(JSON.stringify(item.name));                         \r\n                            }        \r\n                            else if(item['email'] == email && item['role'] == 'Admin'){                                                      \r\n                                setData(JSON.stringify(data));                         \r\n                            }                                      \r\n                        });\r\n                      \r\n                });\r\n        }, []);          \r\n          \r\n        if(data){\r\n            return (<>        \r\n                <h5>Details</h5>                \r\n                <h6>{data}</h6>           \r\n            </>);\r\n        }\r\n        else{\r\n            return (<>\r\n                <h4>Details</h4>\r\n                <table rules=\"all\" width=\"600\" border=\"2\">  \r\n                    <thead style={{\"borderWidth\":\"2px\", 'borderColor':\"black\", 'borderStyle':'solid'}}>\r\n                        <tr align=\"center\">\r\n                            <th>Name</th>\r\n                            <th>Email</th>\r\n                            <th>Balance</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr align=\"center\">\r\n                            <td>{name}</td>\r\n                            <td>{email}</td>\r\n                            <td>{balance}</td>\r\n                        </tr>\r\n                    </tbody> \r\n                </table>                     \r\n            </>);\r\n        }\r\n        \r\n      \r\n    }\r\n  \r\n  \r\n  \r\n    "]},"metadata":{},"sourceType":"module"}
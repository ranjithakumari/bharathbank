{"ast":null,"code":"import _slicedToArray from\"E:\\\\Ranji\\\\bharathbank\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useState}from\"react\";import Card from\"./context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var apiURL=\"http://localhost:8080\";export default function Deposit(){var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,2),show=_React$useState2[0],setShow=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),status=_React$useState4[0],setStatus=_React$useState4[1];return/*#__PURE__*/_jsx(Card,{bgcolor:\"warning\",header:\"Deposit\",status:status,body:show?/*#__PURE__*/_jsx(DepositForm,{setShow:setShow,setStatus:setStatus}):/*#__PURE__*/_jsx(DepositMsg,{setShow:setShow,setStatus:setStatus})});}function DepositMsg(props){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Success\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-light\",onClick:function onClick(){props.setShow(true);props.setStatus('');},children:\"Deposit again\"})]});}function DepositForm(props){var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),email=_React$useState6[0],setEmail=_React$useState6[1];var _React$useState7=React.useState(''),_React$useState8=_slicedToArray(_React$useState7,2),amount=_React$useState8[0],setAmount=_React$useState8[1];function handle(){var email=localStorage.getItem(\"Email\");setEmail(email);if(amount>0){fetch(apiURL+\"/account/update/\".concat(email,\"/\").concat(amount)).then(function(response){return response.text();}).then(function(text){try{var data=JSON.parse(text);props.setStatus('');props.setShow(false);fetch(apiURL+\"/account/findone/\".concat(email)).then(function(response){return response.text();}).then(function(text){var data=JSON.parse(text);alert('Your Current Balance is:'+data.balance);});}catch(err){props.setStatus('Deposit failed');console.log('err:',text);}});}else alert(\"Please Enter Positive Value\");}return/*#__PURE__*/_jsxs(_Fragment,{children:[\"Amount\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",placeholder:\"Enter amount\",value:amount,onChange:function onChange(e){return setAmount(e.currentTarget.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-light\",onClick:handle,children:\"Deposit\"})]});}","map":{"version":3,"sources":["E:/Ranji/bharathbank/client/src/components/deposit.js"],"names":["React","useState","Card","apiURL","Deposit","show","setShow","status","setStatus","DepositMsg","props","DepositForm","email","setEmail","amount","setAmount","handle","localStorage","getItem","fetch","then","response","text","data","JSON","parse","alert","balance","err","console","log","e","currentTarget","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport Card from \"./context\";\r\nconst apiURL = `http://localhost:8080`;\r\n\r\nexport default function Deposit(){\r\n  const [show, setShow]     = React.useState(true);\r\n  const [status, setStatus] = React.useState('');  \r\n\r\n  return (\r\n    <Card\r\n      bgcolor=\"warning\"\r\n      header=\"Deposit\"\r\n      status={status}\r\n      body={show ? \r\n        <DepositForm setShow={setShow} setStatus={setStatus}/> :\r\n        <DepositMsg setShow={setShow} setStatus={setStatus}/>}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DepositMsg(props){\r\n  \r\n  return (<>\r\n    <h5>Success</h5>   \r\n    <button type=\"submit\" \r\n      className=\"btn btn-light\" \r\n      onClick={() => {\r\n          props.setShow(true);\r\n          props.setStatus('');\r\n      }}>\r\n        Deposit again\r\n    </button>\r\n  </>);\r\n} \r\n\r\nfunction DepositForm(props){\r\n  const [email, setEmail]   = React.useState('');\r\n  const [amount, setAmount] = React.useState('');\r\n  \r\n  function handle(){\r\n    const email = localStorage.getItem(\"Email\");    \r\n    setEmail(email);    \r\n    if (amount>0) {\r\n      fetch(apiURL+`/account/update/${email}/${amount}`)\r\n      .then(response => response.text())\r\n      .then(text => {    \r\n        try {          \r\n            const data = JSON.parse(text);            \r\n            props.setStatus('');\r\n            props.setShow(false);  \r\n            fetch(apiURL+`/account/findone/${email}`)\r\n            .then(response => response.text())\r\n            .then(text => {      \r\n            const data = JSON.parse(text);      \r\n            alert('Your Current Balance is:'+ data.balance);   });        \r\n        }             \r\n        catch(err) {\r\n          props.setStatus('Deposit failed')\r\n          console.log('err:', text);\r\n        }\r\n    });   \r\n    }\r\n    else\r\n    alert(\"Please Enter Positive Value\");\r\n  }\r\n  return(<>        \r\n    Amount<br/>\r\n    <input type=\"number\" \r\n      className=\"form-control\" \r\n      placeholder=\"Enter amount\" \r\n      value={amount} onChange={e => setAmount(e.currentTarget.value)}/><br/>\r\n\r\n    <button type=\"submit\" \r\n      className=\"btn btn-light\" \r\n      onClick={handle}>Deposit</button>\r\n\r\n  </>);\r\n}"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"E:\\\\Ranji\\\\bharathbank\\\\client\\\\src\\\\components\\\\deposit.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport Card from \"./context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst apiURL = `http://localhost:8080`;\nexport default function Deposit() {\n  _s();\n\n  const [show, setShow] = React.useState(true);\n  const [status, setStatus] = React.useState('');\n  return /*#__PURE__*/_jsxDEV(Card, {\n    bgcolor: \"warning\",\n    header: \"Deposit\",\n    status: status,\n    body: show ? /*#__PURE__*/_jsxDEV(DepositForm, {\n      setShow: setShow,\n      setStatus: setStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(DepositMsg, {\n      setShow: setShow,\n      setStatus: setStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Deposit, \"OiPWjF7aAG19YEx9YzF5ZeGKqU4=\");\n\n_c = Deposit;\n\nfunction DepositMsg(props) {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"Success\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-light\",\n      onClick: () => {\n        props.setShow(true);\n        props.setStatus('');\n      },\n      children: \"Deposit again\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n\n_c2 = DepositMsg;\n\nfunction DepositForm(props) {\n  _s2();\n\n  const [email, setEmail] = React.useState('');\n  const [amount, setAmount] = React.useState('');\n\n  function handle() {\n    const email = localStorage.getItem(\"Email\");\n    setEmail(email);\n\n    if (amount > 0) {\n      fetch(apiURL + `/account/update/${email}/${amount}`).then(response => response.text()).then(text => {\n        try {\n          const data = JSON.parse(text);\n          props.setStatus('');\n          props.setShow(false);\n          fetch(apiURL + `/account/findone/${email}`).then(response => response.text()).then(text => {\n            const data = JSON.parse(text);\n            alert('Your Current Balance is:' + data.balance);\n          });\n        } catch (err) {\n          props.setStatus('Deposit failed');\n          console.log('err:', text);\n        }\n      });\n    } else alert(\"Please Enter Positive Value\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [\"Amount\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      className: \"form-control\",\n      placeholder: \"Enter amount\",\n      value: amount,\n      onChange: e => setAmount(e.currentTarget.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 72\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-light\",\n      onClick: handle,\n      children: \"Deposit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n\n_s2(DepositForm, \"JQsAd/RrPJb2EeYtHSeiO2QTT3E=\");\n\n_c3 = DepositForm;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Deposit\");\n$RefreshReg$(_c2, \"DepositMsg\");\n$RefreshReg$(_c3, \"DepositForm\");","map":{"version":3,"sources":["E:/Ranji/bharathbank/client/src/components/deposit.js"],"names":["React","useState","Card","apiURL","Deposit","show","setShow","status","setStatus","DepositMsg","props","DepositForm","email","setEmail","amount","setAmount","handle","localStorage","getItem","fetch","then","response","text","data","JSON","parse","alert","balance","err","console","log","e","currentTarget","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport Card from \"./context\";\r\nconst apiURL = `http://localhost:8080`;\r\n\r\nexport default function Deposit(){\r\n  const [show, setShow]     = React.useState(true);\r\n  const [status, setStatus] = React.useState('');  \r\n\r\n  return (\r\n    <Card\r\n      bgcolor=\"warning\"\r\n      header=\"Deposit\"\r\n      status={status}\r\n      body={show ? \r\n        <DepositForm setShow={setShow} setStatus={setStatus}/> :\r\n        <DepositMsg setShow={setShow} setStatus={setStatus}/>}\r\n    />\r\n  )\r\n}\r\n\r\nfunction DepositMsg(props){\r\n  \r\n  return (<>\r\n    <h5>Success</h5>   \r\n    <button type=\"submit\" \r\n      className=\"btn btn-light\" \r\n      onClick={() => {\r\n          props.setShow(true);\r\n          props.setStatus('');\r\n      }}>\r\n        Deposit again\r\n    </button>\r\n  </>);\r\n} \r\n\r\nfunction DepositForm(props){\r\n  const [email, setEmail]   = React.useState('');\r\n  const [amount, setAmount] = React.useState('');\r\n  \r\n  function handle(){\r\n    const email = localStorage.getItem(\"Email\");    \r\n    setEmail(email);    \r\n    if (amount>0) {\r\n      fetch(apiURL+`/account/update/${email}/${amount}`)\r\n      .then(response => response.text())\r\n      .then(text => {    \r\n        try {          \r\n            const data = JSON.parse(text);            \r\n            props.setStatus('');\r\n            props.setShow(false);  \r\n            fetch(apiURL+`/account/findone/${email}`)\r\n            .then(response => response.text())\r\n            .then(text => {      \r\n            const data = JSON.parse(text);      \r\n            alert('Your Current Balance is:'+ data.balance);   });        \r\n        }             \r\n        catch(err) {\r\n          props.setStatus('Deposit failed')\r\n          console.log('err:', text);\r\n        }\r\n    });   \r\n    }\r\n    else\r\n    alert(\"Please Enter Positive Value\");\r\n  }\r\n  return(<>        \r\n    Amount<br/>\r\n    <input type=\"number\" \r\n      className=\"form-control\" \r\n      placeholder=\"Enter amount\" \r\n      value={amount} onChange={e => setAmount(e.currentTarget.value)}/><br/>\r\n\r\n    <button type=\"submit\" \r\n      className=\"btn btn-light\" \r\n      onClick={handle}>Deposit</button>\r\n\r\n  </>);\r\n}"]},"metadata":{},"sourceType":"module"}